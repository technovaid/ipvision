<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <!-- Add these SEO meta tags -->
        <meta
            name="description"
            content="IPV (Intermedia Prima Vision) is a leading licensing and merchandising company specializing in character licensing, brand management, and IP development."
        />
        <meta
            name="keywords"
            content="IPV, Intermedia Prima Vision, licensing, merchandising, character licensing, IP management, brand licensing Indonesia"
        />
        <meta name="author" content="Intermedia Prima Vision" />

        <!-- Open Graph tags for social media -->
        <meta
            property="og:title"
            content="IPV - Intermedia Prima Vision | Character Licensing & Brand Management"
        />
        <meta
            property="og:description"
            content="IPV (Intermedia Prima Vision) is a leading licensing and merchandising company specializing in character licensing, brand management, and IP development."
        />
        <meta property="og:image" content="assets/ipv-logo-header.png" />
        <meta property="og:url" content="https://ipvision.id" />

        <!-- Twitter Card tags -->
        <meta name="twitter:card" content="summary_large_image" />
        <meta
            name="twitter:title"
            content="IPV - Intermedia Prima Vision | Character Licensing & Brand Management"
        />
        <meta
            name="twitter:description"
            content="IPV (Intermedia Prima Vision) is a leading licensing and merchandising company specializing in character licensing, brand management, and IP development."
        />
        <meta name="twitter:image" content="assets/ipv-logo-header.png" />
        <title>
            IPV - Intermedia Prima Vision | Character Licensing & Brand
            Management
        </title>
        <link
            rel="icon"
            type="image/png"
            href="assets/favicon/favicon-96x96.png"
            sizes="96x96"
        />
        <link
            rel="icon"
            type="image/svg+xml"
            href="assets/favicon/favicon.svg"
        />
        <link rel="shortcut icon" href="assets/favicon/favicon.ico" />
        <link
            rel="apple-touch-icon"
            sizes="180x180"
            href="assets/favicon/apple-touch-icon.png"
        />
        <meta name="apple-mobile-web-app-title" content="IPV" />
        <link rel="manifest" href="assets/favicon/site.webmanifest" />
        <script src="https://cdn.tailwindcss.com"></script>
        <script>
            tailwind.config = {
                theme: {
                    extend: {
                        height: {
                            "screen-navbar": "calc(100vh - 76px)",
                        },
                    },
                },
            };
        </script>
        <style>
            .logo-color-filter {
                filter: brightness(0) saturate(100%) invert(72%) sepia(21%)
                    saturate(649%) hue-rotate(314deg) brightness(92%)
                    contrast(94%);
            }

            /* Popup blocker fallback styles */
            .whatsapp-fallback-modal {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.8);
                z-index: 9999;
                display: flex;
                align-items: center;
                justify-content: center;
                backdrop-filter: blur(4px);
            }

            .whatsapp-fallback-content {
                background: white;
                border-radius: 20px;
                padding: 2rem;
                max-width: 90%;
                width: 400px;
                text-align: center;
                position: relative;
                box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
                animation: modalSlideIn 0.3s ease-out;
            }

            @keyframes modalSlideIn {
                from {
                    opacity: 0;
                    transform: scale(0.9) translateY(20px);
                }
                to {
                    opacity: 1;
                    transform: scale(1) translateY(0);
                }
            }

            @media (max-width: 480px) {
                .whatsapp-fallback-content {
                    width: 95%;
                    padding: 1.5rem;
                    margin: 1rem;
                }
            }

            .whatsapp-copy-button {
                transition: all 0.2s ease;
            }

            .whatsapp-copy-button:hover {
                transform: translateY(-1px);
                box-shadow: 0 4px 12px rgba(37, 211, 102, 0.3);
            }

            .whatsapp-copy-success {
                background: #10b981 !important;
            }

            /* WhatsApp Chat Widget Custom Styles */
            .whatsapp-chat-widget {
                font-family: -apple-system, BlinkMacSystemFont, "Segoe UI",
                    Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            }

            .chat-bubble-sent {
                background: linear-gradient(135deg, #25d366 0%, #20c05c 100%);
                border-radius: 20px 20px 5px 20px;
                box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
            }

            .chat-bubble-received {
                background: #ffffff;
                border-radius: 20px 20px 20px 5px;
                box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
            }

            .typing-dots {
                animation: typing 1.4s infinite;
            }

            @keyframes typing {
                0%,
                60%,
                100% {
                    opacity: 0.3;
                }
                30% {
                    opacity: 1;
                }
            }

            .message-slide-in {
                animation: slideInUp 0.3s ease-out;
            }

            @keyframes slideInUp {
                from {
                    opacity: 0;
                    transform: translateY(10px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            .pulse-notification {
                animation: pulse 2s infinite;
            }

            @keyframes pulse {
                0% {
                    transform: scale(1);
                    opacity: 1;
                }
                50% {
                    transform: scale(1.05);
                    opacity: 0.8;
                }
                100% {
                    transform: scale(1);
                    opacity: 1;
                }
            }

            /* Mobile optimizations */
            @media (max-width: 640px) {
                .whatsapp-chat-widget {
                    position: fixed;
                    bottom: 0;
                    right: 0;
                    left: 0;
                    top: 0;
                    pointer-events: none;
                    z-index: 1000;
                }

                .whatsapp-chat-widget > * {
                    pointer-events: all;
                }

                .whatsapp-chat-widget .chat-popup {
                    position: fixed;
                    bottom: 5rem;
                    right: 1rem;
                    left: 1rem;
                    width: auto;
                    max-width: none;
                    margin: 0;
                    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
                    border-radius: 1rem;
                }

                .whatsapp-chat-widget .floating-button {
                    position: fixed;
                    bottom: 1rem;
                    right: 1rem;
                    left: auto;
                    width: 56px;
                    height: 56px;
                }

                .whatsapp-chat-widget .chat-popup .chat-body {
                    height: 50vh;
                    max-height: 280px;
                    min-height: 200px;
                }
            }

            /* Extra small screens */
            @media (max-width: 480px) {
                .whatsapp-chat-widget .chat-popup {
                    bottom: 4.5rem;
                    right: 0.75rem;
                    left: 0.75rem;
                    border-radius: 0.75rem;
                }

                .whatsapp-chat-widget .floating-button {
                    bottom: 0.75rem;
                    right: 0.75rem;
                    width: 52px;
                    height: 52px;
                }

                .whatsapp-chat-widget .chat-popup .chat-body {
                    height: 45vh;
                    max-height: 250px;
                    min-height: 180px;
                }
            }

            /* Landscape mobile */
            @media (max-width: 640px) and (orientation: landscape) {
                .whatsapp-chat-widget .chat-popup {
                    bottom: 4rem;
                }

                .whatsapp-chat-widget .chat-popup .chat-body {
                    height: 35vh;
                    max-height: 200px;
                    min-height: 150px;
                }
            }

            /* Smooth scrollbar */
            .chat-body::-webkit-scrollbar {
                width: 4px;
            }

            .chat-body::-webkit-scrollbar-track {
                background: #f1f1f1;
                border-radius: 10px;
            }

            .chat-body::-webkit-scrollbar-thumb {
                background: #c1c1c1;
                border-radius: 10px;
            }

            .chat-body::-webkit-scrollbar-thumb:hover {
                background: #a8a8a8;
            }
        </style>
    </head>

    <body>
        <!-- Navbar -->
        <nav
            class="fixed flex justify-center w-full bg-white shadow-md z-50"
            aria-label="Main navigation"
        >
            <div class="w-full mx-auto lg:px-12 px-4">
                <div class="flex justify-between items-center h-[75px]">
                    <!-- Logo -->
                    <img
                        src="assets/ipv-logo-header.png"
                        alt="IPV Logo"
                        class="w-[72px]"
                    />

                    <!-- Desktop Navigation -->
                    <div class="hidden lg:flex items-center space-x-4">
                        <a
                            href="#highlight"
                            class="text-gray-600 hover:text-gray-900 transition-colors"
                            >Highlight</a
                        >
                        <div class="text-gray-600">•</div>
                        <a
                            href="#about"
                            class="text-gray-600 hover:text-gray-900 transition-colors"
                            >About</a
                        >
                        <div class="text-gray-600">•</div>
                        <a
                            href="#ip"
                            class="text-gray-600 hover:text-gray-900 transition-colors"
                            >Our IP</a
                        >
                        <div class="text-gray-600">•</div>
                        <a
                            href="#gallery"
                            class="text-gray-600 hover:text-gray-900 transition-colors"
                            >Gallery</a
                        >
                        <div class="text-gray-600">•</div>
                        <a
                            href="#partner"
                            class="text-gray-600 hover:text-gray-900 transition-colors"
                            >Our Partner</a
                        >
                        <div class="text-gray-600">•</div>
                        <a
                            href="#contact"
                            class="text-gray-600 hover:text-gray-900 transition-colors"
                            >Contact Us</a
                        >
                    </div>

                    <!-- Mobile Menu Button -->
                    <button
                        class="lg:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors"
                        id="mobile-menu-button"
                        aria-label="Toggle menu"
                    >
                        <svg
                            class="w-6 h-6"
                            fill="none"
                            stroke="currentColor"
                            viewBox="0 0 24 24"
                        >
                            <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M4 6h16M4 12h16M4 18h16"
                            />
                        </svg>
                    </button>
                </div>
            </div>
        </nav>

        <!-- Mobile Navigation -->
        <div
            id="mobile-menu"
            class="fixed top-0 left-0 w-full h-full bg-white z-40 lg:hidden hidden"
        >
            <div class="flex flex-col h-full">
                <!-- Mobile Menu Header -->
                <div class="flex justify-between items-center p-4 border-b">
                    <img
                        src="assets/ipv-logo-header.png"
                        alt="IPV Logo"
                        class="w-[72px]"
                    />
                    <button
                        class="p-2 rounded-lg hover:bg-gray-100 transition-colors"
                        id="mobile-menu-close"
                        aria-label="Close menu"
                    >
                        <svg
                            class="w-6 h-6"
                            fill="none"
                            stroke="currentColor"
                            viewBox="0 0 24 24"
                        >
                            <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M6 18L18 6M6 6l12 12"
                            />
                        </svg>
                    </button>
                </div>

                <!-- Mobile Menu Links -->
                <div class="flex flex-col p-4 space-y-4">
                    <a
                        href="#highlight"
                        class="text-xl text-gray-600 hover:text-gray-900 transition-colors py-2"
                        >Highlight</a
                    >
                    <a
                        href="#about"
                        class="text-xl text-gray-600 hover:text-gray-900 transition-colors py-2"
                        >About</a
                    >
                    <a
                        href="#ip"
                        class="text-xl text-gray-600 hover:text-gray-900 transition-colors py-2"
                        >Our IP</a
                    >
                    <a
                        href="#gallery"
                        class="text-xl text-gray-600 hover:text-gray-900 transition-colors py-2"
                        >Gallery</a
                    >
                    <a
                        href="#partner"
                        class="text-xl text-gray-600 hover:text-gray-900 transition-colors py-2"
                        >Our Partner</a
                    >
                    <a
                        href="#contact"
                        class="text-xl text-gray-600 hover:text-gray-900 transition-colors py-2"
                        >Contact Us</a
                    >
                </div>
            </div>
        </div>

        <!-- Hero Section with Slider -->
        <section id="highlight" class="pt-[75px]">
            <div
                class="relative"
                x-data="{ 
        activeSlide: 1,
        aspectRatio: 0,
        init() {
            // Create a new image to get dimensions
            const img = new Image();
            img.onload = () => {
                // Calculate aspect ratio as (height / width * 100)
                this.aspectRatio = (img.height / img.width * 100).toFixed(2);
                // Set the padding-bottom of the container
                document.getElementById('slider-container').style.paddingBottom = `${this.aspectRatio}%`;
            };
            img.src = 'assets/hero-1.png'; // Load the first hero image
        }
    }"
            >
                <!-- Container with dynamic aspect ratio -->
                <div id="slider-container" class="relative w-full">
                    <!-- Slide 1 -->
                    <div
                        class="absolute inset-0 transition-opacity duration-500"
                        :class="{ 'opacity-100': activeSlide === 1, 'opacity-0': activeSlide !== 1 }"
                    >
                        <img
                            src="assets/hero-1.png"
                            alt="Hero 1"
                            class="absolute inset-0 w-full h-full object-cover"
                        />
                    </div>

                    <!-- Slide 2 -->
                    <div
                        class="absolute inset-0 transition-opacity duration-500"
                        :class="{ 'opacity-100': activeSlide === 2, 'opacity-0': activeSlide !== 2 }"
                    >
                        <img
                            src="assets/hero-2.png"
                            alt="Hero 2"
                            class="absolute inset-0 w-full h-full object-cover"
                        />
                    </div>

                    <!-- Slide 3 -->
                    <div
                        class="absolute inset-0 transition-opacity duration-500"
                        :class="{ 'opacity-100': activeSlide === 3, 'opacity-0': activeSlide !== 3 }"
                    >
                        <img
                            src="assets/hero-3.png"
                            alt="Hero 3"
                            class="absolute inset-0 w-full h-full object-cover"
                        />
                    </div>

                    <!-- Slider controls -->
                    <button
                        class="absolute left-4 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-20 p-2 rounded-full hover:bg-opacity-30"
                        @click="activeSlide = activeSlide === 1 ? 3 : activeSlide - 1"
                    >
                        <svg
                            class="w-6 h-6 text-white"
                            fill="none"
                            stroke="currentColor"
                            viewBox="0 0 24 24"
                        >
                            <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M15 19l-7-7 7-7"
                            />
                        </svg>
                    </button>
                    <button
                        class="absolute right-4 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-20 p-2 rounded-full hover:bg-opacity-30"
                        @click="activeSlide = activeSlide === 3 ? 1 : activeSlide + 1"
                    >
                        <svg
                            class="w-6 h-6 text-white"
                            fill="none"
                            stroke="currentColor"
                            viewBox="0 0 24 24"
                        >
                            <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M9 5l7 7-7 7"
                            />
                        </svg>
                    </button>

                    <!-- Slider indicators -->
                    <div
                        class="absolute bottom-8 left-1/2 transform -translate-x-1/2 flex space-x-4"
                    >
                        <button
                            class="w-3 h-3 rounded-full transition-colors duration-300"
                            :class="{ 'bg-white': activeSlide === 1, 'bg-white/50': activeSlide !== 1 }"
                            @click="activeSlide = 1"
                        ></button>
                        <button
                            class="w-3 h-3 rounded-full transition-colors duration-300"
                            :class="{ 'bg-white': activeSlide === 2, 'bg-white/50': activeSlide !== 2 }"
                            @click="activeSlide = 2"
                        ></button>
                        <button
                            class="w-3 h-3 rounded-full transition-colors duration-300"
                            :class="{ 'bg-white': activeSlide === 3, 'bg-white/50': activeSlide !== 3 }"
                            @click="activeSlide = 3"
                        ></button>
                    </div>
                </div>
            </div>
        </section>

        <!-- About Section -->
        <section
            id="about"
            class="bg-[#E04042] text-white px-6 lg:px-16 relative"
        >
            <div
                class="mx-auto flex justify-between bg-[url('assets/ipv-logo-red.png')] bg-no-repeat py-16"
                style="
                    background-position: left bottom;
                    background-size: 30% auto;
                "
            >
                <div class="w-full md:w-[45%] my-auto pb-[10%]">
                    <h2 class="text-5xl font-bold mb-6">About Us</h2>
                    <br class="text-xl">
                        We are leading licensing company, that proudly represent
                        a diverse portfolio of iconic characters, offering both
                        product licensing and live show rights to trusted
                        partners across industries. 
                </br>
                </br>
                        Our mission is to connect
                        brands with the magic of storytelling and the power of
                        imagination also to turn our IPs into unforgettable
                        experiences - and commercial success.
                    </p>
                </div>
                <!-- Hide this image on mobile -->
                <img
                    src="assets/about-us.png"
                    alt="Man Writing with Pen"
                    class="hidden md:block w-[40%]"
                />
            </div>
        </section>

        <!-- IP Section -->
        <section id="ip" class="py-14">
            <div class="mx-auto px-6 lg:px-16">
                <h1 class="text-5xl font-bold text-center mb-12">
                    ✨ Our IP ✨
                </h1>
                <div
                    class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8"
                >
                    <div
                        class="bg-white border-2 border-gray-300 rounded-lg p-4 shadow-lg hover:shadow-xl transition-transform duration-300 hover:-translate-y-2"
                    >
                        <img
                            src="assets/ip/bread-barbershop.png"
                            alt="Bread Barbershop"
                            class="w-full h-auto rounded"
                        />
                    </div>
                    <div
                        class="bg-white border-2 border-gray-300 rounded-lg p-4 shadow-lg hover:shadow-xl transition-transform duration-300 hover:-translate-y-2"
                    >
                        <img
                            src="assets/ip/go-go-dino-explorer.png"
                            alt="Go Go Dino Explorer"
                            class="w-full h-auto rounded"
                        />
                    </div>
                    <div
                        class="bg-white border-2 border-gray-300 rounded-lg p-4 shadow-lg hover:shadow-xl transition-transform duration-300 hover:-translate-y-2"
                    >
                        <img
                            src="assets/ip/masha-and-the-bear.png"
                            alt="Masha and The Bear"
                            class="w-full h-auto rounded"
                        />
                    </div>
                    <div
                        class="bg-white border-2 border-gray-300 rounded-lg p-4 shadow-lg hover:shadow-xl transition-transform duration-300 hover:-translate-y-2"
                    >
                        <img
                            src="assets/ip/bobo.png"
                            alt="Bobo"
                            class="w-full h-auto rounded"
                        />
                    </div>
                    <div
                        class="bg-white border-2 border-gray-300 rounded-lg p-4 shadow-lg hover:shadow-xl transition-transform duration-300 hover:-translate-y-2"
                    >
                        <img
                            src="assets/ip/baba-lili-tata.png"
                            alt="Baba Lili Tata"
                            class="w-full h-auto rounded"
                        />
                    </div>
                    <div
                        class="bg-white border-2 border-gray-300 rounded-lg p-4 shadow-lg hover:shadow-xl transition-transform duration-300 hover:-translate-y-2"
                    >
                        <img
                            src="assets/ip/ark-duck-family.png"
                            alt="Ark Duck Family"
                            class="w-full h-auto rounded"
                        />
                    </div>
                    <div
                        class="bg-white border-2 border-gray-300 rounded-lg p-4 shadow-lg hover:shadow-xl transition-transform duration-300 hover:-translate-y-2"
                    >
                        <img
                            src="assets/ip/tayo.png"
                            alt="Tayo"
                            class="w-full h-auto rounded"
                        />
                    </div>
                    <div
                        class="bg-white border-2 border-gray-300 rounded-lg p-4 shadow-lg hover:shadow-xl transition-transform duration-300 hover:-translate-y-2"
                    >
                        <img
                            src="assets/ip/pororo.png"
                            alt="Pororo"
                            class="w-full h-auto rounded"
                        />
                    </div>
                    <div
                        class="bg-white border-2 border-gray-300 rounded-lg p-4 shadow-lg hover:shadow-xl transition-transform duration-300 hover:-translate-y-2"
                    >
                        <img
                            src="assets/ip/pinkfong.png"
                            alt="Pinkfong"
                            class="w-full h-auto rounded"
                        />
                    </div>
                    <div
                        class="bg-white border-2 border-gray-300 rounded-lg p-4 shadow-lg hover:shadow-xl transition-transform duration-300 hover:-translate-y-2"
                    >
                        <img
                            src="assets/ip/jl.png"
                            alt="Juicy Luicy"
                            class="w-full h-auto rounded"
                        />
                    </div>
                    <div
                        class="bg-white border-2 border-gray-300 rounded-lg p-4 shadow-lg hover:shadow-xl transition-transform duration-300 hover:-translate-y-2"
                    >
                        <img
                            src="assets/ip/arkiv.png"
                            alt="Arkiv"
                            class="w-full h-auto rounded"
                        />
                    </div>
                    <div
                        class="bg-white border-2 border-gray-300 rounded-lg p-4 shadow-lg hover:shadow-xl transition-transform duration-300 hover:-translate-y-2"
                    >
                        <img
                            src="assets/ip/cake.png"
                            alt="Cake"
                            class="w-full h-auto rounded"
                        />
                    </div>
                    <!-- Add more IP cards as needed -->
                </div>
            </div>
        </section>

        <!-- Gallery Section -->
        <section id="gallery" class="relative py-14">
            <!-- Split background -->
            <div class="absolute inset-0">
                <div class="h-1/2 bg-[#132436]"></div>
                <div class="h-1/2 bg-white"></div>
            </div>

            <div class="mx-auto px-6 lg:px-16 relative">
                <h2 class="text-5xl font-bold text-center mb-12 text-white">
                    Gallery
                </h2>
                <div
                    class="relative"
                    x-data="{ 
        currentGroup: 0,
        totalGroups: 4,
        next() {
            this.currentGroup = (this.currentGroup + 1) % this.totalGroups;
        },
        prev() {
            this.currentGroup = (this.currentGroup - 1 + this.totalGroups) % this.totalGroups;
        }
    }"
                >
                    <!-- Gallery Container -->
                    <div class="overflow-hidden">
                        <div
                            class="flex transition-transform duration-500 ease-in-out"
                            :style="'transform: translateX(-' + (currentGroup * 100) + '%)'"
                        >
                            <!-- All Gallerys in a row -->
                            <div
                                class="grid sm:grid-cols-1 lg:grid-cols-3 gap-8 min-w-full"
                            >
                                <div class="w-full">
                                    <img
                                        src="assets/gallery-1.png"
                                        alt="Gallery 1"
                                        class="w-full h-auto rounded-lg"
                                    />
                                </div>
                                <div class="w-full">
                                    <img
                                        src="assets/gallery-2.png"
                                        alt="Gallery 2"
                                        class="w-full h-auto rounded-lg"
                                    />
                                </div>
                                <div class="w-full">
                                    <img
                                        src="assets/gallery-3.png"
                                        alt="Gallery 3"
                                        class="w-full h-auto rounded-lg"
                                    />
                                </div>
                            </div>
                            <div
                                class="grid sm:grid-cols-1 lg:grid-cols-3 gap-8 min-w-full"
                            >
                                <div class="w-full">
                                    <img
                                        src="assets/gallery-4.png"
                                        alt="Gallery 4"
                                        class="w-full h-auto rounded-lg"
                                    />
                                </div>
                                <div class="w-full">
                                    <img
                                        src="assets/gallery-5.png"
                                        alt="Gallery 5"
                                        class="w-full h-auto rounded-lg"
                                    />
                                </div>
                                <div class="w-full">
                                    <img
                                        src="assets/gallery-6.png"
                                        alt="Gallery 6"
                                        class="w-full h-auto rounded-lg"
                                    />
                                </div>
                            </div>
                            <div
                                class="grid sm:grid-cols-1 lg:grid-cols-3 gap-8 min-w-full"
                            >
                                <div class="w-full">
                                    <img
                                        src="assets/gallery-7.png"
                                        alt="Gallery 7"
                                        class="w-full h-auto rounded-lg"
                                    />
                                </div>
                                <div class="w-full">
                                    <img
                                        src="assets/gallery-8.png"
                                        alt="Gallery 8"
                                        class="w-full h-auto rounded-lg"
                                    />
                                </div>
                                <div class="w-full">
                                    <img
                                        src="assets/gallery-9.png"
                                        alt="Gallery 9"
                                        class="w-full h-auto rounded-lg"
                                    />
                                </div>
                            </div>
                            <div
                                class="grid sm:grid-cols-1 lg:grid-cols-3 gap-8 min-w-full"
                            >
                                <div class="w-full">
                                    <img
                                        src="assets/gallery-10.png"
                                        alt="Gallery 10"
                                        class="w-full h-auto rounded-lg"
                                    />
                                </div>
                                <div class="w-full">
                                    <img
                                        src="assets/gallery-11.png"
                                        alt="Gallery 11"
                                        class="w-full h-auto rounded-lg"
                                    />
                                </div>
                                <div class="w-full">
                                    <img
                                        src="assets/gallery-12.png"
                                        alt="Gallery 12"
                                        class="w-full h-auto rounded-lg"
                                    />
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Navigation Arrows -->
                    <button
                        class="absolute left-2 sm:left-4 lg:-left-12 top-1/2 transform -translate-y-1/2 bg-white rounded-full p-4 shadow-lg z-10"
                        @click="prev"
                    >
                        <svg
                            class="w-6 h-6 text-gray-800"
                            fill="none"
                            stroke="currentColor"
                            viewBox="0 0 24 24"
                        >
                            <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M15 19l-7-7 7-7"
                            />
                        </svg>
                    </button>
                    <button
                        class="absolute right-2 sm:right-4 lg:-right-12 top-1/2 transform -translate-y-1/2 bg-white rounded-full p-4 shadow-lg z-10"
                        @click="next"
                    >
                        <svg
                            class="w-6 h-6 text-gray-800"
                            fill="none"
                            stroke="currentColor"
                            viewBox="0 0 24 24"
                        >
                            <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M9 5l7 7-7 7"
                            />
                        </svg>
                    </button>
                </div>
            </div>
        </section>

        <!-- Partner Section -->
        <section id="partner" class="pt-8">
            <div class="mx-auto px-6 lg:px-16">
                <h2 class="text-5xl font-bold text-center mb-1">Our Partner</h2>
                <div class="flex justify-center">
                    <img
                        src="assets/our-partner.png"
                        alt="Our Partners"
                        class="w-full"
                    />
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="pt-8 pb-14">
            <div class="mx-auto px-6 lg:px-16">
                <h2 class="text-5xl font-bold text-center mb-12">Contact Us</h2>
                <p class="text-center mb-12 max-w-3xl mx-auto">
                    With us, your brands can work in a number of ways and across
                    a variety of platforms. Whether it's through product
                    placement, a special event sponsorship, or a celebrity
                    endorsement, the possibilities are endless. Our
                    well-strategized sponsorships can increase brand awareness
                    and sales beyond the scope of traditional advertising.
                </p>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-12">
                    <div>
                        <form id="contactForm">
                            <div class="flex gap-6 mb-6">
                                <div class="flex-1">
                                    <label for="name" class="block text-sm mb-2"
                                        >Name*</label
                                    >
                                    <input
                                        type="text"
                                        name="name"
                                        required
                                        class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
                                    />
                                </div>
                                <div class="flex-1">
                                    <label
                                        for="email"
                                        class="block text-sm mb-2"
                                        >Email*</label
                                    >
                                    <input
                                        type="email"
                                        name="email"
                                        required
                                        class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
                                    />
                                </div>
                            </div>
                            <div class="mb-6">
                                <label for="subject" class="block text-sm mb-2"
                                    >Subject*</label
                                >
                                <input
                                    type="text"
                                    name="subject"
                                    required
                                    class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
                                />
                            </div>
                            <div class="mb-6">
                                <label for="message" class="block text-sm mb-2"
                                    >Message*</label
                                >
                                <textarea
                                    name="message"
                                    rows="5"
                                    required
                                    class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
                                ></textarea>
                            </div>
                            <div class="mb-6">
                                <label for="captcha" class="block text-sm mb-2"
                                    >CAPTCHA*</label
                                >
                                <div
                                    class="flex flex-col sm:flex-row items-start sm:items-center gap-4"
                                >
                                    <div class="flex items-center gap-4">
                                        <div
                                            id="captchaDisplay"
                                            class="bg-gray-100 px-4 py-2 rounded select-none font-mono text-lg tracking-wider"
                                        ></div>
                                        <button
                                            type="button"
                                            onclick="updateCaptcha()"
                                            class="text-blue-500 hover:text-blue-600"
                                        >
                                            <svg
                                                xmlns="http://www.w3.org/2000/svg"
                                                class="h-5 w-5"
                                                viewBox="0 0 20 20"
                                                fill="currentColor"
                                            >
                                                <path
                                                    fill-rule="evenodd"
                                                    d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v4a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z"
                                                    clip-rule="evenodd"
                                                />
                                            </svg>
                                        </button>
                                    </div>
                                    <input
                                        name="captcha"
                                        type="text"
                                        required
                                        placeholder="Enter CAPTCHA"
                                        class="w-full sm:w-auto flex-1 px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
                                    />
                                    <button
                                        type="submit"
                                        class="bg-red-500 hover:bg-red-600 text-white px-6 py-3 rounded-lg font-medium transition-colors duration-300"
                                    >
                                        Submit
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div>
                        <iframe
                            title="IPV Office Location Map"
                            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3966.4789096911354!2d106.82350849999999!3d-6.200374900000001!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2e69f41ecc890ed3%3A0x50a3e86ace0978d8!2sJl.%20Blora%20No.16%2C%20RT.2%2FRW.6%2C%20Dukuh%20Atas%2C%20Menteng%2C%20Kec.%20Menteng%2C%20Kota%20Jakarta%20Pusat%2C%20Daerah%20Khusus%20Ibukota%20Jakarta%2010310!5e0!3m2!1sid!2sid!4v1737377931490!5m2!1sid!2sid"
                            class="w-full h-64 sm:h-80 md:h-96 rounded-lg border-0"
                            allowfullscreen=""
                            loading="lazy"
                            referrerpolicy="no-referrer-when-downgrade"
                        ></iframe>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="bg-[#132436] text-white py-12">
            <div class="mx-auto px-6 lg:px-16">
                <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                    <div>
                        <img
                            src="assets/ipv-logo-white.png"
                            alt="IPV Logo"
                            class="w-32"
                        />
                    </div>
                    <div>
                        <h5 class="text-xl font-bold mb-4">Legal</h5>
                        <ul class="space-y-2">
                            <li>
                                <a href="#" class="hover:text-gray-300"
                                    >Legal Line</a
                                >
                            </li>
                            <li>
                                <a href="#" class="hover:text-gray-300"
                                    >Terms of Use</a
                                >
                            </li>
                            <li>
                                <a href="#" class="hover:text-gray-300"
                                    >Privacy Policy</a
                                >
                            </li>
                        </ul>
                    </div>
                    <div>
                        <h5 class="text-xl font-bold mb-4">Office</h5>
                        <p>PT. Intermedia Prima Vision</p>
                        <p>Jl. Blora 16, menteng,</p>
                        <p>Jakarta Pusat - 10310</p>
                        <p>Indonesia</p>
                    </div>
                    <div>
                        <h5 class="text-xl font-bold mb-4">Follow Us</h5>
                        <div class="flex space-x-4">
                            <a href="#" class="hover:opacity-80">
                                <img
                                    src="assets/instagram-logo.png"
                                    alt="Instagram"
                                    class="w-10 h-10"
                                />
                            </a>
                            <a href="#" class="hover:opacity-80">
                                <img
                                    src="assets/youtube-logo.png"
                                    alt="YouTube"
                                    class="w-10 h-10"
                                />
                            </a>
                            <a href="#" class="hover:opacity-80">
                                <img
                                    src="assets/tiktok-logo.png"
                                    alt="TikTok"
                                    class="w-10 h-10"
                                />
                            </a>
                        </div>
                    </div>
                </div>
                <div class="text-center mt-8 pt-8 border-t border-gray-700">
                    <p>
                        Copyright ©
                        <script>
                            document.write(new Date().getFullYear());
                        </script>
                        - Intermedia Prima Vision All Rights Reserved
                    </p>
                </div>
            </div>
        </footer>

        <!-- WhatsApp Chat Widget -->
        <div
            class="fixed bottom-6 right-6 z-50 whatsapp-chat-widget"
            x-data="{ 
                isButtonVisible: false,
                isChatOpen: false,
                message: '',
                isTyping: false,
                messages: [
                    { type: 'received', text: 'Hello! 👋 Welcome to IPV (Intermedia Prima Vision)', time: '10:30' },
                    { type: 'received', text: 'How can we help you today?', time: '10:30' }
                ],
                init() {
                    setTimeout(() => this.isButtonVisible = true, 1000);
                    
                    // Handle viewport changes on mobile devices
                    window.addEventListener('resize', () => {
                        if (this.isChatOpen) {
                            this.$nextTick(() => {
                                this.scrollToBottom();
                            });
                        }
                    });
                },
                openChat() {
                    this.isChatOpen = true;
                    this.$nextTick(() => {
                        this.scrollToBottom();
                        // Auto-focus input on mobile
                        if (window.innerWidth <= 640) {
                            const input = this.$refs.messageInput;
                            if (input) {
                                setTimeout(() => input.focus(), 300);
                            }
                        }
                    });
                },
                closeChat() {
                    this.isChatOpen = false;
                },
                sendMessage() {
                    if (this.message.trim() === '') return;
                    
                    // Add user message to chat
                    this.messages.push({
                        type: 'sent',
                        text: this.message,
                        time: new Date().toLocaleTimeString('en-US', { hour12: false, hour: '2-digit', minute: '2-digit' })
                    });
                    
                    const messageToSend = this.message;
                    this.message = '';
                    
                    // Show typing indicator
                    this.isTyping = true;
                    this.scrollToBottom();
                    
                    // Simulate typing delay then redirect to WhatsApp
                    setTimeout(() => {
                        this.isTyping = false;
                        WhatsAppUtils.sendWhatsAppMessage(messageToSend);
                    }, 1500);
                },
                scrollToBottom() {
                    this.$nextTick(() => {
                        const chatBody = this.$refs.chatBody;
                        if (chatBody) {
                            chatBody.scrollTop = chatBody.scrollHeight;
                        }
                    });
                }
            }"
            x-show="isButtonVisible"
            x-transition:enter="transition ease-out duration-300"
            x-transition:enter-start="opacity-0 scale-0"
            x-transition:enter-end="opacity-100 scale-100"
        >
            <!-- Chat Popup -->
            <div
                x-show="isChatOpen"
                x-transition:enter="transition ease-out duration-300 transform"
                x-transition:enter-start="opacity-0 scale-95 translate-y-2"
                x-transition:enter-end="opacity-100 scale-100 translate-y-0"
                x-transition:leave="transition ease-in duration-200 transform"
                x-transition:leave-start="opacity-100 scale-100 translate-y-0"
                x-transition:leave-end="opacity-0 scale-95 translate-y-2"
                class="absolute bottom-20 right-0 w-80 sm:w-96 bg-white rounded-2xl shadow-2xl border border-gray-200 overflow-hidden chat-popup"
                style="max-height: 500px; transform-origin: bottom right"
            >
                <!-- Chat Header -->
                <div
                    class="bg-green-500 text-white p-4 flex items-center justify-between"
                >
                    <div class="flex items-center space-x-3">
                        <div
                            class="w-10 h-10 bg-white rounded-full flex items-center justify-center"
                        >
                            <img
                                src="assets/ipv-logo-header.png"
                                alt="IPV Logo"
                                class="w-[72px]"
                            />
                        </div>
                        <div>
                            <h4 class="font-semibold text-sm">IPV Support</h4>
                            <p class="text-xs text-green-100">Online</p>
                        </div>
                    </div>
                    <button
                        @click="closeChat()"
                        class="text-white hover:text-green-200 transition-colors duration-200"
                        aria-label="Close chat"
                    >
                        <svg
                            class="w-5 h-5"
                            fill="none"
                            stroke="currentColor"
                            viewBox="0 0 24 24"
                        >
                            <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M6 18L18 6M6 6l12 12"
                            />
                        </svg>
                    </button>
                </div>

                <!-- Chat Body -->
                <div
                    x-ref="chatBody"
                    class="p-4 h-80 overflow-y-auto bg-gray-50 space-y-3 chat-body"
                    style="
                        background-image: url('data:image/svg+xml,<svg xmlns=&quot;http://www.w3.org/2000/svg&quot; viewBox=&quot;0 0 100 100&quot; fill=&quot;%23f0f0f0&quot;><circle cx=&quot;50&quot; cy=&quot;50&quot; r=&quot;1&quot; opacity=&quot;0.3&quot;/></svg>');
                        background-size: 20px 20px;
                    "
                >
                    <template x-for="(msg, index) in messages" :key="index">
                        <div
                            :class="msg.type === 'sent' ? 'flex justify-end' : 'flex justify-start'"
                            x-transition:enter="transition ease-out duration-300"
                            x-transition:enter-start="opacity-0 transform translate-y-2"
                            x-transition:enter-end="opacity-100 transform translate-y-0"
                        >
                            <div
                                :class="msg.type === 'sent' ? 'text-white chat-bubble-sent' : 'text-gray-800 chat-bubble-received'"
                                class="max-w-xs px-4 py-2 message-slide-in"
                            >
                                <p class="text-sm" x-text="msg.text"></p>
                                <p
                                    :class="msg.type === 'sent' ? 'text-green-100' : 'text-gray-500'"
                                    class="text-xs mt-1"
                                    x-text="msg.time"
                                ></p>
                            </div>
                        </div>
                    </template>

                    <!-- Typing indicator -->
                    <div
                        x-show="isTyping"
                        class="flex justify-start"
                        x-transition:enter="transition ease-out duration-300"
                        x-transition:enter-start="opacity-0"
                        x-transition:enter-end="opacity-100"
                    >
                        <div
                            class="bg-white text-gray-800 max-w-xs px-4 py-2 chat-bubble-received"
                        >
                            <div class="flex space-x-1 items-center">
                                <div
                                    class="w-2 h-2 bg-gray-400 rounded-full typing-dots"
                                ></div>
                                <div
                                    class="w-2 h-2 bg-gray-400 rounded-full typing-dots"
                                    style="animation-delay: 0.1s"
                                ></div>
                                <div
                                    class="w-2 h-2 bg-gray-400 rounded-full typing-dots"
                                    style="animation-delay: 0.2s"
                                ></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Chat Input -->
                <div class="p-4 bg-white border-t border-gray-200">
                    <form
                        @submit.prevent="sendMessage()"
                        class="flex space-x-2"
                    >
                        <input
                            x-model="message"
                            x-ref="messageInput"
                            type="text"
                            placeholder="Type a message..."
                            class="flex-1 px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"
                            @keydown.enter="sendMessage()"
                        />
                        <button
                            type="submit"
                            class="bg-green-500 hover:bg-green-600 w-12 h-12 text-white p-2 rounded-full transition-colors duration-200 flex items-center justify-center"
                            aria-label="Send message"
                        >
                            <svg
                                class="w-5 h-5 transform rotate-90"
                                fill="none"
                                stroke="currentColor"
                                viewBox="0 0 24 24"
                            >
                                <path
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    stroke-width="2"
                                    d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"
                                />
                            </svg>
                        </button>
                    </form>
                </div>
            </div>

            <!-- Floating Button -->
            <button
                @click="openChat()"
                x-show="!isChatOpen"
                class="relative flex items-center justify-center w-16 h-16 bg-green-500 hover:bg-green-600 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-110 group floating-button"
                aria-label="Open WhatsApp chat"
            >
                <!-- WhatsApp Icon -->
                <svg
                    class="w-8 h-8 relative z-10"
                    fill="currentColor"
                    viewBox="0 0 24 24"
                >
                    <path
                        d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.566"
                    />
                </svg>

                <!-- Notification badge -->
                <div
                    class="absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-bold pulse-notification"
                >
                    2
                </div>
            </button>
        </div>

        <!-- WhatsApp fallback modal -->
        <div id="whatsapp-fallback-modal" class="whatsapp-fallback-modal" style="display: none;" role="dialog" aria-modal="true" aria-labelledby="whatsapp-modal-title" aria-describedby="whatsapp-modal-description">
            <div class="whatsapp-fallback-content" role="document">
                <div class="mb-4">
                    <svg class="w-16 h-16 mx-auto text-green-500 mb-4" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                        <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.566"/>
                    </svg>
                    <h3 id="whatsapp-modal-title" class="text-xl font-bold text-gray-800 mb-2">Continue on WhatsApp</h3>
                    <p id="whatsapp-modal-description" class="text-gray-600 mb-4">Click the button below to open WhatsApp, or copy the link manually.</p>
                </div>
                
                <div class="space-y-3">
                    <button id="whatsapp-fallback-open" class="w-full bg-green-500 hover:bg-green-600 focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 text-white py-3 px-6 rounded-lg font-medium transition-colors" aria-label="Open WhatsApp application">
                        Open WhatsApp
                    </button>
                    <button id="whatsapp-fallback-copy" class="w-full bg-gray-100 hover:bg-gray-200 focus:ring-2 focus:ring-gray-500 focus:ring-opacity-50 text-gray-800 py-3 px-6 rounded-lg font-medium whatsapp-copy-button" aria-label="Copy WhatsApp link to clipboard">
                        Copy Link
                    </button>
                </div>
                
                <button id="whatsapp-fallback-close" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600 focus:ring-2 focus:ring-gray-500 focus:ring-opacity-50 rounded-full p-1" aria-label="Close WhatsApp dialog">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                    </svg>
                </button>
            </div>
        </div>

        <!-- AlpineJS for slider functionality -->
        <script
            src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"
            defer
        ></script>

        <!-- WhatsApp utility functions -->
        <script>
            // WhatsApp utility functions with popup blocker handling
            const WhatsAppUtils = {
                // Browser detection
                getBrowserInfo() {
                    const ua = navigator.userAgent;
                    const isChrome = /Chrome/.test(ua) && /Google Inc/.test(navigator.vendor);
                    const isFirefox = /Firefox/.test(ua);
                    const isSafari = /Safari/.test(ua) && /Apple Computer/.test(navigator.vendor);
                    const isEdge = /Edge/.test(ua);
                    const isMobile = /iPhone|iPad|iPod|Android/i.test(ua);
                    
                    return {
                        isChrome,
                        isFirefox,
                        isSafari,
                        isEdge,
                        isMobile,
                        userAgent: ua
                    };
                },

                // Multiple fallback methods for opening WhatsApp
                openWhatsApp(url, fallbackCallback) {
                    const browser = this.getBrowserInfo();
                    let windowRef = null;
                    
                    // Method 1: Try immediate window.open (works if user-initiated)
                    try {
                        windowRef = window.open(url, '_blank', 'noopener,noreferrer');
                        
                        // Check if window was blocked
                        if (!windowRef || windowRef.closed || typeof windowRef.closed === 'undefined') {
                            throw new Error('Popup blocked');
                        }
                        
                        // Additional check for Chrome and Safari
                        if (browser.isChrome || browser.isSafari) {
                            setTimeout(() => {
                                try {
                                    if (windowRef.closed || windowRef.location.href === 'about:blank') {
                                        throw new Error('Popup blocked');
                                    }
                                } catch (e) {
                                    // Cross-origin security error is expected for WhatsApp URLs
                                    // This is normal behavior
                                }
                            }, 100);
                        }
                        
                        return true;
                    } catch (error) {
                        // Method 2: Try location.href for mobile or same tab
                        try {
                            if (browser.isMobile || browser.isSafari) {
                                window.location.href = url;
                                return true;
                            }
                        } catch (e) {
                            // Continue to fallback
                        }
                        
                        // Method 3: Try creating a temporary anchor element with user interaction
                        try {
                            const link = document.createElement('a');
                            link.href = url;
                            link.target = '_blank';
                            link.rel = 'noopener noreferrer';
                            link.style.position = 'absolute';
                            link.style.left = '-9999px';
                            link.style.top = '-9999px';
                            link.setAttribute('download', ''); // Some browsers require this
                            document.body.appendChild(link);
                            
                            // Simulate user click
                            const clickEvent = new MouseEvent('click', {
                                bubbles: true,
                                cancelable: true,
                                view: window
                            });
                            link.dispatchEvent(clickEvent);
                            
                            setTimeout(() => {
                                if (document.body.contains(link)) {
                                    document.body.removeChild(link);
                                }
                            }, 100);
                            
                            return true;
                        } catch (e) {
                            // Method 4: Try focus and location change
                            try {
                                window.focus();
                                window.location.href = url;
                                return true;
                            } catch (e2) {
                                // All methods failed, use fallback
                                if (fallbackCallback) {
                                    fallbackCallback(url);
                                }
                                return false;
                            }
                        }
                    }
                },

                // Show fallback modal
                showFallbackModal(url) {
                    const modal = document.getElementById('whatsapp-fallback-modal');
                    const openBtn = document.getElementById('whatsapp-fallback-open');
                    const copyBtn = document.getElementById('whatsapp-fallback-copy');
                    const closeBtn = document.getElementById('whatsapp-fallback-close');
                    
                    // Store the URL for later use
                    modal.dataset.whatsappUrl = url;
                    
                    // Store the currently focused element
                    const previouslyFocusedElement = document.activeElement;
                    
                    // Show modal
                    modal.style.display = 'flex';
                    document.body.style.overflow = 'hidden';
                    
                    // Focus the first button
                    setTimeout(() => {
                        openBtn.focus();
                    }, 100);
                    
                    // Event listeners
                    const closeModal = () => {
                        modal.style.display = 'none';
                        document.body.style.overflow = '';
                        
                        // Restore focus to the previously focused element
                        if (previouslyFocusedElement) {
                            previouslyFocusedElement.focus();
                        }
                        
                        // Remove event listeners
                        document.removeEventListener('keydown', escapeHandler);
                        document.removeEventListener('keydown', trapFocus);
                    };
                    
                    openBtn.onclick = () => {
                        window.location.href = url;
                        closeModal();
                    };
                    
                    copyBtn.onclick = () => {
                        this.copyToClipboard(url, copyBtn);
                    };
                    
                    closeBtn.onclick = closeModal;
                    
                    // Close on outside click
                    modal.onclick = (e) => {
                        if (e.target === modal) {
                            closeModal();
                        }
                    };
                    
                    // Focus trap function
                    const trapFocus = (e) => {
                        const focusableElements = modal.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');
                        const firstFocusableElement = focusableElements[0];
                        const lastFocusableElement = focusableElements[focusableElements.length - 1];
                        
                        if (e.key === 'Tab') {
                            if (e.shiftKey) {
                                if (document.activeElement === firstFocusableElement) {
                                    lastFocusableElement.focus();
                                    e.preventDefault();
                                }
                            } else {
                                if (document.activeElement === lastFocusableElement) {
                                    firstFocusableElement.focus();
                                    e.preventDefault();
                                }
                            }
                        }
                    };
                    
                    // Close on escape key
                    const escapeHandler = (e) => {
                        if (e.key === 'Escape') {
                            closeModal();
                        }
                    };
                    
                    document.addEventListener('keydown', escapeHandler);
                    document.addEventListener('keydown', trapFocus);
                },

                // Copy to clipboard with visual feedback
                async copyToClipboard(text, button) {
                    try {
                        // Modern browsers
                        if (navigator.clipboard && window.isSecureContext) {
                            await navigator.clipboard.writeText(text);
                        } else {
                            // Fallback for older browsers
                            const textArea = document.createElement('textarea');
                            textArea.value = text;
                            textArea.style.position = 'fixed';
                            textArea.style.left = '-999999px';
                            textArea.style.top = '-999999px';
                            document.body.appendChild(textArea);
                            textArea.focus();
                            textArea.select();
                            document.execCommand('copy');
                            document.body.removeChild(textArea);
                        }
                        
                        // Visual feedback
                        const originalText = button.textContent;
                        const originalClass = button.className;
                        
                        button.textContent = 'Copied!';
                        button.className = originalClass + ' whatsapp-copy-success';
                        
                        setTimeout(() => {
                            button.textContent = originalText;
                            button.className = originalClass;
                        }, 2000);
                        
                    } catch (error) {
                        console.error('Failed to copy:', error);
                        button.textContent = 'Copy failed';
                        setTimeout(() => {
                            button.textContent = 'Copy Link';
                        }, 2000);
                    }
                },

                // Enhanced WhatsApp message sender
                sendWhatsAppMessage(message, phoneNumber = '6282112096430') {
                    const encodedMessage = encodeURIComponent(message);
                    const url = `https://wa.me/${phoneNumber}?text=${encodedMessage}`;
                    
                    return this.openWhatsApp(url, (fallbackUrl) => {
                        this.showFallbackModal(fallbackUrl);
                    });
                }
            };

            // Make WhatsAppUtils globally available
            window.WhatsAppUtils = WhatsAppUtils;
        </script>

        <!-- Mobile menu toggle -->
        <script>
            const mobileMenu = document.getElementById("mobile-menu");
            const mobileMenuButton =
                document.getElementById("mobile-menu-button");
            const mobileMenuClose =
                document.getElementById("mobile-menu-close");
            const mobileMenuLinks = document.querySelectorAll("#mobile-menu a");

            function toggleMobileMenu() {
                mobileMenu.classList.toggle("hidden");
                if (!mobileMenu.classList.contains("hidden")) {
                    document.body.style.overflow = "hidden";
                } else {
                    document.body.style.overflow = "";
                }
            }

            function closeMobileMenu() {
                mobileMenu.classList.add("hidden");
                document.body.style.overflow = "";
            }

            // Add event listeners
            mobileMenuButton.addEventListener("click", toggleMobileMenu);
            mobileMenuClose.addEventListener("click", closeMobileMenu);

            // Close mobile menu when clicking a link
            mobileMenuLinks.forEach((link) => {
                link.addEventListener("click", closeMobileMenu);
            });

            // Close mobile menu when clicking outside
            document.addEventListener("click", (e) => {
                if (
                    !mobileMenu.contains(e.target) &&
                    !mobileMenuButton.contains(e.target) &&
                    !mobileMenu.classList.contains("hidden")
                ) {
                    closeMobileMenu();
                }
            });
        </script>
        <script>
            // CAPTCHA generation and validation
            function generateCaptcha() {
                const chars =
                    "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";
                let captcha = "";
                for (let i = 0; i < 6; i++) {
                    captcha += chars.charAt(
                        Math.floor(Math.random() * chars.length),
                    );
                }
                return captcha;
            }

            // Store the current CAPTCHA text
            let currentCaptcha = "";

            // Function to update CAPTCHA display
            function updateCaptcha() {
                currentCaptcha = generateCaptcha();
                const captchaDisplay =
                    document.getElementById("captchaDisplay");
                captchaDisplay.textContent = currentCaptcha;
            }

            // Initialize CAPTCHA on page load
            document.addEventListener("DOMContentLoaded", () => {
                updateCaptcha();
            });

            document
                .getElementById("contactForm")
                .addEventListener("submit", function (event) {
                    event.preventDefault();

                    // Get the user's CAPTCHA input
                    const userCaptcha = this.querySelector(
                        'input[name="captcha"]',
                    ).value;

                    // Validate CAPTCHA
                    if (userCaptcha !== currentCaptcha) {
                        alert("Incorrect CAPTCHA. Please try again.");
                        updateCaptcha();
                        this.querySelector('input[name="captcha"]').value = "";
                        return;
                    }

                    // Get form data
                    const name = this.querySelector('input[name="name"]').value;
                    const email = this.querySelector(
                        'input[name="email"]',
                    ).value;
                    const subject = this.querySelector(
                        'input[name="subject"]',
                    ).value;
                    const message = this.querySelector(
                        'textarea[name="message"]',
                    ).value;

                    // Create WhatsApp message
                    const whatsappMessage = 
                        `Name: ${name}\n` +
                        `Email: ${email}\n` +
                        `Subject: ${subject}\n` +
                        `Message: ${message}`;

                    // Open WhatsApp with new utility function
                    WhatsAppUtils.sendWhatsAppMessage(whatsappMessage);

                    // Reset form and CAPTCHA after successful submission
                    this.reset();
                    updateCaptcha();
                });
        </script>
        <script type="application/ld+json">
            {
                "@context": "https://schema.org",
                "@type": "Organization",
                "name": "Intermedia Prima Vision",
                "alternateName": "IPV",
                "url": "https://ipvision.id",
                "logo": "https://ipvision.id/assets/ipv-logo-header.png",
                "contactPoint": {
                    "@type": "ContactPoint",
                    "telephone": "+62-821-1209-6430",
                    "contactType": "customer service",
                    "areaServed": "ID"
                },
                "address": {
                    "@type": "PostalAddress",
                    "streetAddress": "Jl. Blora 16",
                    "addressLocality": "Jakarta Pusat",
                    "postalCode": "10310",
                    "addressCountry": "ID"
                }
            }
        </script>
    </body>
</html>
